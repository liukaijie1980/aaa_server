<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RADIUSæœåŠ¡å™¨æ¥å£æµ‹è¯•å®¢æˆ·ç«¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 0;
            min-height: calc(100vh - 200px);
        }

        .sidebar {
            background: #f8f9fa;
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            overflow-y: auto;
        }

        .main-content {
            padding: 30px;
            overflow-y: auto;
        }

        .config-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .config-section h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 18px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .api-list {
            list-style: none;
        }

        .api-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .api-item:hover {
            background: #e8e9ff;
            transform: translateX(5px);
        }

        .api-item.active {
            background: #667eea;
            color: white;
            border-color: #5568d3;
        }

        .api-item .api-name {
            font-weight: 600;
            font-size: 14px;
        }

        .api-item .api-desc {
            font-size: 12px;
            margin-top: 4px;
            opacity: 0.8;
        }

        .params-section {
            margin-bottom: 30px;
        }

        .params-section h3 {
            margin-bottom: 20px;
            color: #333;
            font-size: 20px;
        }

        .params-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .response-section {
            margin-top: 30px;
        }

        .response-section h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 20px;
        }

        .response-box {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.6;
        }

        .response-box.success {
            border-left: 4px solid #4caf50;
        }

        .response-box.error {
            border-left: 4px solid #f44336;
        }
        
        .response-box pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        /* é«˜äº®æ˜¾ç¤ºè¿”å›ç è¯´æ˜éƒ¨åˆ† */
        .response-box pre {
            position: relative;
        }
        
        /* ä¸ºè¿”å›ç è¯´æ˜åŒºåŸŸæ·»åŠ ç‰¹æ®Šæ ·å¼ï¼ˆé€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ ï¼‰ */
        .return-code-section {
            background: rgba(76, 175, 80, 0.1);
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .return-code-section.error {
            background: rgba(244, 67, 54, 0.1);
            border-color: rgba(244, 67, 54, 0.3);
        }

        .response-box pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .status-badge.success {
            background: #4caf50;
            color: white;
        }

        .status-badge.error {
            background: #f44336;
            color: white;
        }

        .status-badge.info {
            background: #2196f3;
            color: white;
        }

        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .soap-request {
            margin-top: 20px;
        }

        .soap-request h4 {
            margin-bottom: 10px;
            color: #555;
            font-size: 16px;
        }

        .code-block {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”Œ RADIUSæœåŠ¡å™¨æ¥å£æµ‹è¯•å®¢æˆ·ç«¯</h1>
            <p>æµ‹è¯•RADIUSæœåŠ¡å™¨WebæœåŠ¡æ¥å£ - æ”¯æŒ11ä¸ªå·²å®ç°APIæ–¹æ³•</p>
        </div>

        <div class="content">
            <div class="sidebar">
                <div class="config-section">
                    <h3>æœåŠ¡é…ç½®</h3>
                    <div class="form-group">
                        <label for="serviceIp">æœåŠ¡å™¨IP</label>
                        <input type="text" id="serviceIp" value="localhost" placeholder="ä¾‹å¦‚: 10.11.6.92" oninput="updateServiceUrl()">
                    </div>
                    <div class="form-group">
                        <label for="servicePort">ç«¯å£</label>
                        <input type="text" id="servicePort" value="8090" placeholder="ä¾‹å¦‚: 8090" oninput="updateServiceUrl()">
                    </div>
                    <div class="form-group">
                        <label for="servicePath">è·¯å¾„</label>
                        <input type="text" id="servicePath" value="/services/IServiceUopBossToTvManager" placeholder="/services/IServiceUopBossToTvManager" oninput="updateServiceUrl()">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="useProxy" onchange="updateServiceUrl()" style="width: auto; margin-right: 5px;">
                            ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼ˆè§£å†³CORSé—®é¢˜ï¼‰
                        </label>
                        <div class="help-text">å¦‚æœé‡åˆ°CORSé”™è¯¯ï¼Œè¯·å¯ç”¨æ­¤é€‰é¡¹å¹¶ä½¿ç”¨ä»£ç†æœåŠ¡å™¨</div>
                    </div>
                    <div class="form-group" id="proxyConfig" style="display: none;">
                        <label for="proxyIp">ä»£ç†æœåŠ¡å™¨IP</label>
                        <input type="text" id="proxyIp" value="localhost" placeholder="localhost" oninput="updateServiceUrl()">
                    </div>
                    <div class="form-group" id="proxyPort" style="display: none;">
                        <label for="proxyPortInput">ä»£ç†æœåŠ¡å™¨ç«¯å£</label>
                        <input type="text" id="proxyPortInput" value="8888" placeholder="8888" oninput="updateServiceUrl()">
                    </div>
                    <div class="form-group">
                        <label for="serviceUrl">å®Œæ•´æœåŠ¡åœ°å€</label>
                        <input type="text" id="serviceUrl" value="http://localhost:8090/services/IServiceUopBossToTvManager" placeholder="è‡ªåŠ¨ç”Ÿæˆ" readonly style="background-color: #f5f5f5; cursor: not-allowed;">
                        <div class="help-text">ç”±ä¸Šæ–¹IPã€ç«¯å£ã€è·¯å¾„è‡ªåŠ¨æ‹¼æ¥ç”Ÿæˆ</div>
                    </div>
                    <div style="margin-top: 10px;">
                        <button class="btn" onclick="testConnection()" style="width: 100%; padding: 8px; font-size: 14px;">æµ‹è¯•è¿æ¥</button>
                    </div>
                </div>

                <div class="config-section">
                    <h3>APIæ–¹æ³•</h3>
                    <ul class="api-list" id="apiList"></ul>
                </div>
            </div>

            <div class="main-content">
                <div class="config-section">
                    <h3>å½“å‰æ–¹æ³•: <span id="currentMethod">è¯·é€‰æ‹©APIæ–¹æ³•</span></h3>
                </div>

                <div class="params-section">
                    <h3>å‚æ•°è®¾ç½®</h3>
                    <div id="paramsContainer">
                        <p style="color: #999; text-align: center; padding: 40px;">è¯·ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªAPIæ–¹æ³•</p>
                    </div>
                </div>

                <div style="text-align: center; margin: 30px 0;">
                    <button class="btn" id="sendBtn" onclick="sendRequest()" disabled>
                        <span id="btnText">å‘é€è¯·æ±‚</span>
                    </button>
                </div>

                <div class="response-section">
                    <h3>å“åº”ç»“æœ <span id="statusBadge"></span></h3>
                    <div class="response-box" id="responseBox">
                        <pre id="responseContent">ç­‰å¾…å‘é€è¯·æ±‚...</pre>
                    </div>
                </div>

                <div class="soap-request" id="soapRequestSection" style="display: none;">
                    <h4>SOAPè¯·æ±‚å†…å®¹</h4>
                    <div class="code-block" id="soapRequestContent"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // APIæ–¹æ³•å®šä¹‰
        const apiMethods = [
            {
                name: 'IsExist',
                desc: 'æ£€æŸ¥è´¦æˆ·æ˜¯å¦å­˜åœ¨',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true }
                ]
            },
            {
                name: 'ForceOffline',
                desc: 'å¼ºåˆ¶ç”¨æˆ·ä¸‹çº¿',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true }
                ]
            },
            {
                name: 'CheckPassword',
                desc: 'éªŒè¯å¯†ç ',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'Password', type: 'password', label: 'å¯†ç ', required: true }
                ]
            },
            {
                name: 'SearchCustomerStatus',
                desc: 'æŸ¥è¯¢å®¢æˆ·çŠ¶æ€',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true }
                ]
            },
            {
                name: 'Register',
                desc: 'æ³¨å†Œæ–°ç”¨æˆ·',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'UserName', type: 'text', label: 'ç”¨æˆ·å', required: false },
                    { name: 'Password', type: 'password', label: 'å¯†ç ', required: true },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'TollGroupID', type: 'number', label: 'è®¡è´¹ç»„ID', required: false, default: 0 },
                    { name: 'AdminGroupID', type: 'number', label: 'ç®¡ç†ç»„ID', required: false, default: 0 },
                    { name: 'BWGroupID', type: 'number', label: 'å¸¦å®½ç»„ID', required: false, default: 0 },
                    { name: 'UpLoadBandWidth', type: 'text', label: 'ä¸Šè¡Œå¸¦å®½', required: false },
                    { name: 'DownLoadBandWidth', type: 'text', label: 'ä¸‹è¡Œå¸¦å®½', required: false },
                    { name: 'LoginOptionID', type: 'number', label: 'ç™»å½•é€‰é¡¹ID', required: false, default: 0 },
                    { name: 'Prepay', type: 'number', label: 'é¢„ä»˜è´¹é‡‘é¢', required: false, default: 0 },
                    { name: 'Bail', type: 'number', label: 'ä¿è¯é‡‘', required: false, default: 0 },
                    { name: 'IP', type: 'text', label: 'IPåœ°å€', required: false },
                    { name: 'MAC', type: 'text', label: 'MACåœ°å€', required: false },
                    { name: 'VLANID', type: 'number', label: 'VLAN ID', required: false, default: 0 },
                    { name: 'Switch', type: 'text', label: 'äº¤æ¢æœºä¿¡æ¯', required: false },
                    { name: 'CertificateSort', type: 'number', label: 'è¯ä»¶ç±»å‹', required: false, default: 0 },
                    { name: 'CertificateCode', type: 'text', label: 'è¯ä»¶å·ç ', required: false },
                    { name: 'Address', type: 'text', label: 'åœ°å€', required: false },
                    { name: 'Telephone', type: 'text', label: 'ç”µè¯', required: false },
                    { name: 'PostCode', type: 'text', label: 'é‚®ç¼–', required: false },
                    { name: 'Email', type: 'email', label: 'é‚®ç®±', required: false },
                    { name: 'Contactor', type: 'text', label: 'è”ç³»äºº', required: false },
                    { name: 'BankName', type: 'text', label: 'é“¶è¡Œåç§°', required: false },
                    { name: 'BankAccount', type: 'text', label: 'é“¶è¡Œè´¦å·', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false },
                    { name: 'ByBatch', type: 'number', label: 'æ˜¯å¦æ‰¹é‡æ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'WorkFlow', type: 'number', label: 'å·¥ä½œæµæ ‡è¯†', required: false, default: 0 },
                    { name: 'Service', type: 'text', label: 'æœåŠ¡ç±»å‹', required: false },
                    { name: 'EndTime', type: 'text', label: 'ç»“æŸæ—¶é—´ (yyyy-MM-dd HH:mm:ss)', required: false }
                ]
            },
            {
                name: 'IpoeRegister',
                desc: 'IPoEæ³¨å†Œ',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'MacList', type: 'text', label: 'MACåœ°å€åˆ—è¡¨(é€—å·åˆ†éš”)', required: true },
                    { name: 'Password', type: 'password', label: 'å¯†ç (å¯é€‰)', required: false },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false }
                ]
            },
            {
                name: 'EraseCustomer',
                desc: 'åˆ é™¤å®¢æˆ·',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false },
                    { name: 'Refundment', type: 'number', label: 'æ˜¯å¦é€€æ¬¾ (0/1)', required: false, default: 0 },
                    { name: 'byBatch', type: 'number', label: 'æ˜¯å¦æ‰¹é‡æ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'WorkFlow', type: 'number', label: 'å·¥ä½œæµæ ‡è¯†', required: false, default: 0 }
                ]
            },
            {
                name: 'IpoeEraseCustomer',
                desc: 'IPoEåˆ é™¤å®¢æˆ·',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Mac', type: 'text', label: 'MACåœ°å€', required: true },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false }
                ]
            },
            {
                name: 'ChangeUserInfo',
                desc: 'ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'UserName', type: 'text', label: 'ç”¨æˆ·å', required: false },
                    { name: 'IP', type: 'text', label: 'IPåœ°å€', required: false },
                    { name: 'MAC', type: 'text', label: 'MACåœ°å€', required: false },
                    { name: 'AdminGroupID', type: 'number', label: 'ç®¡ç†ç»„ID', required: false, default: 0 },
                    { name: 'ClassID', type: 'number', label: 'ç±»åˆ«ID', required: false, default: 0 },
                    { name: 'BWGroupID', type: 'number', label: 'å¸¦å®½ç»„ID', required: false, default: 0 },
                    { name: 'UpLoadBandwidth', type: 'text', label: 'ä¸Šè¡Œå¸¦å®½', required: false },
                    { name: 'DownLoadBandWidth', type: 'text', label: 'ä¸‹è¡Œå¸¦å®½', required: false },
                    { name: 'LoginOptionID', type: 'number', label: 'ç™»å½•é€‰é¡¹ID', required: false, default: 0 },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false },
                    { name: 'BySystem', type: 'number', label: 'æ˜¯å¦ç³»ç»Ÿæ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'ByBatch', type: 'number', label: 'æ˜¯å¦æ‰¹é‡æ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'Service', type: 'text', label: 'æœåŠ¡ç±»å‹', required: false },
                    { name: 'EndTime', type: 'text', label: 'ç»“æŸæ—¶é—´ (yyyy-MM-dd HH:mm:ss)', required: false }
                ]
            },
            {
                name: 'ChangeUserPassword',
                desc: 'ä¿®æ”¹ç”¨æˆ·å¯†ç ',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'Password', type: 'password', label: 'æ–°å¯†ç ', required: true },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false },
                    { name: 'bySystem', type: 'number', label: 'æ˜¯å¦ç³»ç»Ÿæ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'byBatch', type: 'number', label: 'æ˜¯å¦æ‰¹é‡æ“ä½œ (0/1)', required: false, default: 0 }
                ]
            },
            {
                name: 'EnableAccount',
                desc: 'å¯ç”¨/ç¦ç”¨è´¦æˆ·',
                params: [
                    { name: 'AreaGroupID', type: 'text', label: 'åŒºåŸŸç»„ID', required: true },
                    { name: 'Account', type: 'text', label: 'ç”¨æˆ·è´¦å·', required: true },
                    { name: 'Operator', type: 'text', label: 'æ“ä½œå‘˜', required: false },
                    { name: 'Remarks', type: 'text', label: 'å¤‡æ³¨', required: false },
                    { name: 'Enable', type: 'number', label: 'å¯ç”¨çŠ¶æ€ (1-å¯ç”¨, 0-ç¦ç”¨)', required: true },
                    { name: 'bySystem', type: 'number', label: 'æ˜¯å¦ç³»ç»Ÿæ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'byBatch', type: 'number', label: 'æ˜¯å¦æ‰¹é‡æ“ä½œ (0/1)', required: false, default: 0 },
                    { name: 'Day', type: 'number', label: 'å¤©æ•°(ç”¨äºä¸´æ—¶å¯ç”¨)', required: false, default: 0 }
                ]
            }
        ];

        let currentMethod = null;

        // åˆå§‹åŒ–APIåˆ—è¡¨
        function initApiList() {
            const apiList = document.getElementById('apiList');
            apiMethods.forEach((method, index) => {
                const li = document.createElement('li');
                li.className = 'api-item';
                li.innerHTML = `
                    <div class="api-name">${method.name}</div>
                    <div class="api-desc">${method.desc}</div>
                `;
                li.onclick = () => selectMethod(index);
                apiList.appendChild(li);
            });
        }

        // é€‰æ‹©APIæ–¹æ³•
        function selectMethod(index) {
            currentMethod = apiMethods[index];
            
            // æ›´æ–°UI
            document.querySelectorAll('.api-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });
            
            document.getElementById('currentMethod').textContent = currentMethod.name + ' - ' + currentMethod.desc;
            document.getElementById('sendBtn').disabled = false;
            
            // ç”Ÿæˆå‚æ•°è¡¨å•
            generateParamsForm();
        }

        // ç”Ÿæˆå‚æ•°è¡¨å•
        function generateParamsForm() {
            const container = document.getElementById('paramsContainer');
            container.innerHTML = '';
            
            const grid = document.createElement('div');
            grid.className = 'params-grid';
            
            currentMethod.params.forEach(param => {
                const formGroup = document.createElement('div');
                formGroup.className = 'form-group';
                
                const label = document.createElement('label');
                label.textContent = param.label + (param.required ? ' *' : '');
                label.setAttribute('for', param.name);
                
                let input;
                if (param.type === 'textarea') {
                    input = document.createElement('textarea');
                    input.rows = 3;
                } else {
                    input = document.createElement('input');
                    input.type = param.type || 'text';
                }
                
                input.id = param.name;
                input.name = param.name;
                input.required = param.required || false;
                if (param.default !== undefined) {
                    input.value = param.default;
                }
                if (param.placeholder) {
                    input.placeholder = param.placeholder;
                }
                
                formGroup.appendChild(label);
                formGroup.appendChild(input);
                
                if (param.help) {
                    const help = document.createElement('div');
                    help.className = 'help-text';
                    help.textContent = param.help;
                    formGroup.appendChild(help);
                }
                
                grid.appendChild(formGroup);
            });
            
            container.appendChild(grid);
        }

        // æ›´æ–°æœåŠ¡URL
        function updateServiceUrl() {
            const useProxy = document.getElementById('useProxy').checked;
            const proxyConfig = document.getElementById('proxyConfig');
            const proxyPortDiv = document.getElementById('proxyPort');
            
            // æ˜¾ç¤º/éšè—ä»£ç†é…ç½®
            if (useProxy) {
                proxyConfig.style.display = 'block';
                proxyPortDiv.style.display = 'block';
            } else {
                proxyConfig.style.display = 'none';
                proxyPortDiv.style.display = 'none';
            }
            
            const ip = document.getElementById('serviceIp').value.trim();
            const port = document.getElementById('servicePort').value.trim();
            const path = document.getElementById('servicePath').value.trim();
            
            if (ip && port && path) {
                // ç¡®ä¿pathä»¥/å¼€å¤´
                const normalizedPath = path.startsWith('/') ? path : '/' + path;
                
                if (useProxy) {
                    // ä½¿ç”¨ä»£ç†æ¨¡å¼
                    const proxyIp = document.getElementById('proxyIp').value.trim() || 'localhost';
                    const proxyPort = document.getElementById('proxyPortInput').value.trim() || '8888';
                    // é€šè¿‡æŸ¥è¯¢å‚æ•°ä¼ é€’ç›®æ ‡URL
                    const targetUrl = encodeURIComponent(`http://${ip}:${port}${normalizedPath}`);
                    const fullUrl = `http://${proxyIp}:${proxyPort}/proxy?url=${targetUrl}`;
                    document.getElementById('serviceUrl').value = fullUrl;
                } else {
                    // ç›´æ¥è¿æ¥æ¨¡å¼
                    const fullUrl = `http://${ip}:${port}${normalizedPath}`;
                    document.getElementById('serviceUrl').value = fullUrl;
                }
            } else {
                document.getElementById('serviceUrl').value = '';
            }
        }

        // æµ‹è¯•è¿æ¥
        async function testConnection() {
            const serviceUrl = document.getElementById('serviceUrl').value.trim();
            if (!serviceUrl) {
                alert('è¯·å…ˆå¡«å†™æœåŠ¡å™¨IPã€ç«¯å£å’Œè·¯å¾„');
                return;
            }

            const responseBox = document.getElementById('responseBox');
            const responseContent = document.getElementById('responseContent');
            const statusBadge = document.getElementById('statusBadge');
            
            responseBox.className = 'response-box';
            responseContent.textContent = 'æ­£åœ¨æµ‹è¯•è¿æ¥...';
            statusBadge.innerHTML = '<span class="status-badge info">æµ‹è¯•ä¸­</span>';

            try {
                // å°è¯•è·å–WSDL
                const wsdlUrl = serviceUrl + '?wsdl';
                const response = await fetch(wsdlUrl, {
                    method: 'GET',
                    mode: 'cors'
                });

                if (response.ok) {
                    responseBox.className = 'response-box success';
                    responseContent.textContent = `âœ… è¿æ¥æˆåŠŸï¼\n\næœåŠ¡å™¨åœ°å€: ${serviceUrl}\nWSDLåœ°å€: ${wsdlUrl}\nçŠ¶æ€ç : ${response.status}`;
                    statusBadge.innerHTML = '<span class="status-badge success">è¿æ¥æˆåŠŸ</span>';
                } else {
                    throw new Error(`æœåŠ¡å™¨è¿”å›çŠ¶æ€ç : ${response.status}`);
                }
            } catch (error) {
                responseBox.className = 'response-box error';
                let errorMsg = `âŒ è¿æ¥å¤±è´¥\n\n`;
                errorMsg += `æœåŠ¡å™¨åœ°å€: ${serviceUrl}\n`;
                errorMsg += `é”™è¯¯ä¿¡æ¯: ${error.message}\n\n`;

                if (error.message.includes('Failed to fetch') || error.name === 'TypeError') {
                    errorMsg += `âš ï¸ è¿™æ˜¯CORSè·¨åŸŸé—®é¢˜ï¼\n\n`;
                    errorMsg += `å¯èƒ½çš„åŸå› ï¼š\n`;
                    errorMsg += `1. æœåŠ¡å™¨æœªé…ç½®CORSå“åº”å¤´\n`;
                    errorMsg += `2. æœåŠ¡å™¨æœªè¿è¡Œæˆ–æ— æ³•è®¿é—®\n`;
                    errorMsg += `3. é˜²ç«å¢™é˜»æ­¢äº†è¿æ¥\n\n`;
                    errorMsg += `è§£å†³æ–¹æ¡ˆï¼š\n`;
                    errorMsg += `1. å®‰è£…æµè§ˆå™¨CORSæ‰©å±•ï¼ˆå¦‚ï¼šCORS Unblockï¼‰\n`;
                    errorMsg += `2. åœ¨æœåŠ¡å™¨ç«¯é…ç½®CORSå“åº”å¤´\n`;
                    errorMsg += `3. ä½¿ç”¨ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚\n`;
                }

                responseContent.textContent = errorMsg;
                statusBadge.innerHTML = '<span class="status-badge error">è¿æ¥å¤±è´¥</span>';
            }
        }

        // å‘é€SOAPè¯·æ±‚
        async function sendRequest() {
            if (!currentMethod) return;
            
            const serviceUrl = document.getElementById('serviceUrl').value.trim();
            if (!serviceUrl) {
                alert('è¯·å¡«å†™æœåŠ¡å™¨IPã€ç«¯å£å’Œè·¯å¾„');
                return;
            }
            
            // æ”¶é›†å‚æ•°
            const params = {};
            let hasError = false;
            
            currentMethod.params.forEach(param => {
                const input = document.getElementById(param.name);
                let value = input.value.trim();
                
                if (param.required && !value) {
                    input.style.borderColor = '#f44336';
                    hasError = true;
                    return;
                } else {
                    input.style.borderColor = '#ddd';
                }
                
                // ç±»å‹è½¬æ¢
                if (param.type === 'number') {
                    value = value ? parseFloat(value) : (param.default || 0);
                }
                
                params[param.name] = value || '';
            });
            
            if (hasError) {
                alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å‚æ•°');
                return;
            }
            
            // æ„å»ºSOAPè¯·æ±‚
            const soapBody = buildSoapRequest(currentMethod.name, params);
            
            // æ˜¾ç¤ºSOAPè¯·æ±‚
            document.getElementById('soapRequestSection').style.display = 'block';
            document.getElementById('soapRequestContent').textContent = formatXml(soapBody);
            
            // æ›´æ–°UI
            const btn = document.getElementById('sendBtn');
            const btnText = document.getElementById('btnText');
            btn.disabled = true;
            btnText.innerHTML = '<span class="loading"></span>å‘é€ä¸­...';
            
            const responseBox = document.getElementById('responseBox');
            const responseContent = document.getElementById('responseContent');
            responseBox.className = 'response-box';
            responseContent.textContent = 'æ­£åœ¨å‘é€è¯·æ±‚...';
            
            try {
                // æ„å»ºè¯·æ±‚å¤´
                const headers = {
                    'Content-Type': 'text/xml; charset=utf-8',
                    'SOAPAction': '""'
                };
                
                // å¦‚æœä½¿ç”¨ä»£ç†ï¼Œæ·»åŠ ç›®æ ‡URLå¤´
                const useProxy = document.getElementById('useProxy').checked;
                if (useProxy) {
                    // ä»serviceUrlä¸­æå–ç›®æ ‡URLï¼ˆå¦‚æœä¸åœ¨æŸ¥è¯¢å‚æ•°ä¸­ï¼‰
                    const urlObj = new URL(serviceUrl);
                    if (!urlObj.searchParams.get('url')) {
                        // å¦‚æœæ²¡æœ‰åœ¨æŸ¥è¯¢å‚æ•°ä¸­ï¼Œé€šè¿‡è‡ªå®šä¹‰å¤´ä¼ é€’
                        const targetIp = document.getElementById('serviceIp').value.trim();
                        const targetPort = document.getElementById('servicePort').value.trim();
                        const targetPath = document.getElementById('servicePath').value.trim();
                        const normalizedPath = targetPath.startsWith('/') ? targetPath : '/' + targetPath;
                        headers['X-Target-URL'] = `http://${targetIp}:${targetPort}${normalizedPath}`;
                    }
                }
                
                const response = await fetch(serviceUrl, {
                    method: 'POST',
                    headers: headers,
                    body: soapBody
                });
                
                const responseText = await response.text();
                
                // è§£æå“åº”
                const result = parseSoapResponse(responseText);
                
                // æ˜¾ç¤ºå“åº”
                responseBox.className = 'response-box ' + (result.success ? 'success' : 'error');
                responseContent.textContent = result.formatted;
                
                // æ˜¾ç¤ºçŠ¶æ€å¾½ç« ï¼ŒåŒ…å«è¿”å›ç å’Œè¯´æ˜
                const statusBadge = document.getElementById('statusBadge');
                let badgeHtml = '';
                const badgeClass = result.success ? 'success' : 'error';
                const badgeText = result.success ? 'æˆåŠŸ' : 'é”™è¯¯';
                
                if (result.returnCode !== 'N/A') {
                    if (result.description) {
                        badgeHtml = `<span class="status-badge ${badgeClass}" title="${result.description}">${badgeText} (è¿”å›ç : ${result.returnCode}) - ${result.description}</span>`;
                    } else {
                        badgeHtml = `<span class="status-badge ${badgeClass}">${badgeText} (è¿”å›ç : ${result.returnCode})</span>`;
                    }
                } else {
                    badgeHtml = `<span class="status-badge info">å“åº”è§£æä¸­...</span>`;
                }
                
                statusBadge.innerHTML = badgeHtml;
                
            } catch (error) {
                responseBox.className = 'response-box error';
                
                // è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
                let errorDetails = `è¯·æ±‚å¤±è´¥: ${error.message}\n\n`;
                errorDetails += `è¯·æ±‚URL: ${serviceUrl}\n`;
                errorDetails += `è¯·æ±‚æ–¹æ³•: ${currentMethod.name}\n\n`;
                
                // CORSé”™è¯¯ç‰¹æ®Šå¤„ç†
                if (error.message.includes('Failed to fetch') || error.message.includes('CORS') || error.name === 'TypeError') {
                    errorDetails += `âš ï¸ è¿™å¾ˆå¯èƒ½æ˜¯CORSè·¨åŸŸé—®é¢˜ï¼\n\n`;
                    errorDetails += `è§£å†³æ–¹æ¡ˆï¼š\n`;
                    errorDetails += `1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ”¯æŒCORSè·¨åŸŸè®¿é—®\n`;
                    errorDetails += `2. å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒCORSï¼Œå¯ä»¥ï¼š\n`;
                    errorDetails += `   - ä½¿ç”¨æµè§ˆå™¨CORSæ‰©å±•ï¼ˆä»…æµ‹è¯•ç¯å¢ƒï¼‰\n`;
                    errorDetails += `   - é…ç½®æœåŠ¡å™¨æ·»åŠ CORSå“åº”å¤´\n`;
                    errorDetails += `   - ä½¿ç”¨ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚\n\n`;
                    errorDetails += `3. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼š\n`;
                    errorDetails += `   - ç¡®è®¤æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®: ${serviceUrl}\n`;
                    errorDetails += `   - ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ\n`;
                    errorDetails += `   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®\n`;
                } else {
                    errorDetails += `é”™è¯¯è¯¦æƒ…:\n${error.stack || error.toString()}\n`;
                }
                
                responseContent.textContent = errorDetails;
                document.getElementById('statusBadge').innerHTML = '<span class="status-badge error">è¯·æ±‚å¤±è´¥</span>';
            } finally {
                btn.disabled = false;
                btnText.textContent = 'å‘é€è¯·æ±‚';
            }
        }

        // æ„å»ºSOAPè¯·æ±‚
        function buildSoapRequest(methodName, params) {
            const namespace = 'http://service.whjf.hsoft.com';
            
            let paramsXml = '';
            Object.keys(params).forEach(key => {
                const value = params[key];
                if (value !== '' && value !== null && value !== undefined) {
                    paramsXml += `        <${key}>${escapeXml(String(value))}</${key}>\n`;
                }
            });
            
            return `<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    <soap:Body>
        <${methodName} xmlns="${namespace}">
${paramsXml}        </${methodName}>
    </soap:Body>
</soap:Envelope>`;
        }

        // è§£æSOAPå“åº”
        function parseSoapResponse(xmlText) {
            try {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
                
                // æ£€æŸ¥æ˜¯å¦æœ‰è§£æé”™è¯¯
                const parserError = xmlDoc.querySelector('parsererror');
                if (parserError) {
                    return {
                        success: false,
                        returnCode: 'N/A',
                        formatted: xmlText,
                        message: 'XMLè§£æå¤±è´¥',
                        description: null
                    };
                }
                
                // æŸ¥æ‰¾ç»“æœèŠ‚ç‚¹ - æ”¯æŒå¤šç§æ ¼å¼ï¼š
                // 1. {MethodName}Result (å¦‚ IsExistResult, ForceOfflineResult)
                // 2. Result
                // 3. ä»»ä½•åŒ…å«Resultçš„èŠ‚ç‚¹
                let resultNode = null;
                if (currentMethod) {
                    // å…ˆå°è¯•æŸ¥æ‰¾ {MethodName}Result æ ¼å¼
                    const methodResultName = currentMethod.name + 'Result';
                    resultNode = xmlDoc.querySelector(`*[local-name()="${methodResultName}"]`);
                }
                
                // å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°è¯•å…¶ä»–æ ¼å¼
                if (!resultNode) {
                    resultNode = xmlDoc.querySelector('*[local-name()="Result"]') || 
                                 xmlDoc.querySelector('*[local-name()*="Result"]');
                }
                
                // å¦‚æœè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œå°è¯•æŸ¥æ‰¾Bodyä¸‹çš„ç¬¬ä¸€ä¸ªæ•°å­—èŠ‚ç‚¹
                if (!resultNode) {
                    const body = xmlDoc.querySelector('*[local-name()="Body"]');
                    if (body) {
                        const allNodes = body.querySelectorAll('*');
                        for (let node of allNodes) {
                            const text = node.textContent.trim();
                            // æ£€æŸ¥æ˜¯å¦æ˜¯æ•°å­—ï¼ˆå¯èƒ½æ˜¯è¿”å›ç ï¼‰
                            if (text && /^-?\d+$/.test(text)) {
                                resultNode = node;
                                break;
                            }
                        }
                    }
                }
                
                let returnCode = 'N/A';
                if (resultNode) {
                    returnCode = resultNode.textContent.trim();
                }
                
                // è·å–é”™è¯¯ä¿¡æ¯
                const faultNode = xmlDoc.querySelector('*[local-name()="Fault"]');
                let message = '';
                if (faultNode) {
                    const faultString = faultNode.querySelector('*[local-name()="faultstring"]');
                    if (faultString) {
                        message = faultString.textContent;
                    }
                }
                
                // åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼ˆ0è¡¨ç¤ºæˆåŠŸï¼ŒæŸäº›æ–¹æ³•è¿”å›1æˆ–3ä¹Ÿè¡¨ç¤ºç‰¹å®šæˆåŠŸçŠ¶æ€ï¼‰
                const success = returnCode === '0' || returnCode === 0 || 
                               returnCode === '1' || returnCode === 1 ||
                               returnCode === '3' || returnCode === 3;
                
                // è·å–è¿”å›ç è¯´æ˜
                const codeDesc = getReturnCodeDescription(returnCode);
                
                // æ ¼å¼åŒ–è¾“å‡º - å°†è¿”å›å€¼è§£é‡Šæ”¾åœ¨å‰é¢ï¼Œæ›´é†’ç›®
                let formatted = '';
                
                // é¦–å…ˆæ˜¾ç¤ºè¿”å›ç å’Œè¯´æ˜ï¼ˆæœ€é†’ç›®ï¼‰
                if (returnCode !== 'N/A') {
                    formatted += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
                    formatted += `ğŸ“Š è¿”å›ç : ${returnCode}\n`;
                    if (codeDesc) {
                        formatted += `ğŸ“ è¯´æ˜: ${codeDesc}\n`;
                    } else {
                        formatted += `ğŸ“ è¯´æ˜: æœªçŸ¥è¿”å›ç \n`;
                    }
                    formatted += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;
                }
                
                // æ˜¾ç¤ºåŸå§‹SOAPå“åº”
                formatted += `ã€åŸå§‹SOAPå“åº”ã€‘\n`;
                formatted += formatXml(xmlText);
                
                // å¦‚æœæœ‰é”™è¯¯ä¿¡æ¯ï¼Œæ˜¾ç¤º
                if (message) {
                    formatted += `\n\nã€é”™è¯¯ä¿¡æ¯ã€‘\n${message}`;
                }
                
                // æ ¹æ®è¿”å›ç æä¾›è¯¦ç»†è¯´æ˜å’Œå»ºè®®
                if (codeDesc) {
                    formatted += `\n\nã€è¯¦ç»†è¯´æ˜ã€‘\n`;
                    formatted += getDetailedDescription(returnCode);
                }
                
                return {
                    success,
                    returnCode,
                    formatted,
                    message,
                    description: codeDesc
                };
            } catch (error) {
                return {
                    success: false,
                    returnCode: 'N/A',
                    formatted: xmlText,
                    message: `è§£æå“åº”å¤±è´¥: ${error.message}`,
                    description: null
                };
            }
        }
        
        // è·å–è¯¦ç»†è¯´æ˜å’Œå»ºè®®
        function getDetailedDescription(code) {
            const codeStr = String(code);
            let description = '';
            
            switch (codeStr) {
                case '0':
                    description = 'âœ… æ“ä½œæˆåŠŸå®Œæˆ';
                    break;
                case '1':
                    description = 'â„¹ï¸ ç”¨æˆ·å½“å‰ä¸åœ¨çº¿çŠ¶æ€';
                    break;
                case '3':
                    description = 'â„¹ï¸ ç”¨æˆ·å½“å‰åœ¨çº¿çŠ¶æ€';
                    break;
                case '-1':
                    description = 'âŒ æ•°æ®åº“è¿æ¥å¤±è´¥\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ\n';
                    description += '   â€¢ æ£€æŸ¥æ•°æ®åº“è¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸\n';
                    description += '   â€¢ æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯';
                    break;
                case '-2':
                    description = 'âŒ è´¦æˆ·ä¸å­˜åœ¨æˆ–æ— æ•ˆ\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ ç¡®è®¤è¾“å…¥çš„AreaGroupIDå’ŒAccountæ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ æ£€æŸ¥è´¦æˆ·æ˜¯å¦å·²è¢«åˆ é™¤\n';
                    description += '   â€¢ ç¡®è®¤è´¦æˆ·çŠ¶æ€æ˜¯å¦æ­£å¸¸';
                    break;
                case '-3':
                    description = 'âŒ ä¸æ˜¯æœŸé™ç”¨æˆ·(è´¦æˆ·å·²æŠ¥å¤±æˆ–ç¦ç”¨çŠ¶æ€)\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥è´¦æˆ·çŠ¶æ€æ˜¯å¦ä¸ºç¦ç”¨çŠ¶æ€\n';
                    description += '   â€¢ ç¡®è®¤è´¦æˆ·æ˜¯å¦å·²æŠ¥å¤±\n';
                    description += '   â€¢ å¦‚éœ€å¯ç”¨è´¦æˆ·ï¼Œè¯·ä½¿ç”¨EnableAccountæ¥å£';
                    break;
                case '-6':
                    description = 'âŒ è´¦æˆ·å·²ç»å­˜åœ¨\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ å¦‚éœ€æ³¨å†Œæ–°è´¦æˆ·ï¼Œè¯·ä½¿ç”¨ä¸åŒçš„è´¦å·\n';
                    description += '   â€¢ å¦‚éœ€ä¿®æ”¹ç°æœ‰è´¦æˆ·ï¼Œè¯·ä½¿ç”¨ChangeUserInfoæ¥å£';
                    break;
                case '-9':
                    description = 'âŒ æœªçŸ¥é”™è¯¯ï¼ˆæœåŠ¡å™¨å†…éƒ¨å¼‚å¸¸ï¼‰\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯\n';
                    description += '   â€¢ å¸¸è§åŸå› ï¼š\n';
                    description += '     - æ•°æ®åº“è¿æ¥å¤±è´¥\n';
                    description += '     - å‚æ•°æ ¼å¼ä¸æ­£ç¡®\n';
                    description += '     - æœåŠ¡å™¨å†…éƒ¨å¼‚å¸¸\n';
                    description += '     - é…ç½®é”™è¯¯\n';
                    description += '   â€¢ æ£€æŸ¥å‚æ•°ï¼š\n';
                    description += '     - ç¡®è®¤æ‰€æœ‰å¿…å¡«å‚æ•°å·²å¡«å†™\n';
                    description += '     - æ£€æŸ¥å‚æ•°æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚MACåœ°å€ã€æ—¶é—´æ ¼å¼ç­‰ï¼‰\n';
                    description += '     - ç¡®è®¤AreaGroupIDæ˜¯å¦å­˜åœ¨';
                    break;
                case '-13':
                    description = 'âŒ è´¦æˆ·æˆ–å¯†ç ä¸èƒ½ä¸ºç©º\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ ç¡®è®¤å·²å¡«å†™Accountå‚æ•°\n';
                    description += '   â€¢ ç¡®è®¤å·²å¡«å†™Passwordå‚æ•°ï¼ˆå¦‚æœè¯¥æ¥å£éœ€è¦ï¼‰';
                    break;
                case '-16':
                    description = 'âŒ å‚æ•°ä¸åˆæ³•\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥å‚æ•°æ ¼å¼æ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ MACåœ°å€æ ¼å¼ï¼š12ä½åå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9, A-F, a-fï¼‰\n';
                    description += '   â€¢ æ—¶é—´æ ¼å¼ï¼šyyyy-MM-dd HH:mm:ssï¼ˆå¦‚ï¼š2025-01-26 10:30:00ï¼‰\n';
                    description += '   â€¢ æ£€æŸ¥æ•°å€¼å‚æ•°æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…';
                    break;
                case '-17':
                    description = 'âŒ å¼ºåˆ¶ä¸‹çº¿å¤±è´¥\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ ç¡®è®¤ç”¨æˆ·å½“å‰æ˜¯å¦åœ¨çº¿\n';
                    description += '   â€¢ æ£€æŸ¥RADIUSæœåŠ¡å™¨è¿æ¥æ˜¯å¦æ­£å¸¸\n';
                    description += '   â€¢ æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯';
                    break;
                case '-18':
                    description = 'âŒ å¯†ç é”™è¯¯\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ ç¡®è®¤è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ æ£€æŸ¥å¯†ç æ˜¯å¦åŒ…å«ç‰¹æ®Šå­—ç¬¦éœ€è¦è½¬ä¹‰';
                    break;
                case '-4':
                    description = 'âŒ å­ç³»ç»Ÿç¼–ç é”™è¯¯\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥AreaGroupIDæ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ ç¡®è®¤å­ç³»ç»Ÿç¼–ç æ˜¯å¦å­˜åœ¨';
                    break;
                case '-5':
                    description = 'âŒ é‡‘é¢å‚æ•°è¶…å‡ºäº†æ•°å­—è¡¨ç¤ºèŒƒå›´\n';
                    description += '   è¯´æ˜ï¼šæœ€å¤§æœ‰æ•ˆæ•°å€¼ä¸º60000\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥é‡‘é¢å‚æ•°æ˜¯å¦è¶…è¿‡60000\n';
                    description += '   â€¢ ç¡®è®¤é‡‘é¢æ ¼å¼æ˜¯å¦æ­£ç¡®';
                    break;
                case '-7':
                    description = 'â„¹ï¸ è´¦æˆ·å·²ç»åœ¨çº¿\n';
                    description += '   è¯´æ˜ï¼šè¯¥è´¦æˆ·å½“å‰å·²ç»åœ¨çº¿ï¼Œæ— æ³•é‡å¤ç™»å½•';
                    break;
                case '-8':
                    description = 'âŒ è´¦æˆ·æœªå¼€é€š\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ ç¡®è®¤è´¦æˆ·æ˜¯å¦å·²æ³¨å†Œ\n';
                    description += '   â€¢ æ£€æŸ¥è´¦æˆ·çŠ¶æ€æ˜¯å¦ä¸ºæœªå¼€é€š\n';
                    description += '   â€¢ å¦‚éœ€å¼€é€šè´¦æˆ·ï¼Œè¯·ä½¿ç”¨Registeræ¥å£';
                    break;
                case '-10':
                    description = 'âŒ æœ‰æ¬ è´¹è´¦å•\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥è´¦æˆ·æ˜¯å¦æœ‰æœªæ”¯ä»˜çš„è´¦å•\n';
                    description += '   â€¢ éœ€è¦å…ˆå¤„ç†æ¬ è´¹è´¦å•åæ‰èƒ½ç»§ç»­æ“ä½œ';
                    break;
                case '-11':
                    description = 'âŒ æœŸé™ç”¨æˆ·ï¼Œé¢„å­˜æ¬¾ä½™é¢ä¸è¶³\n';
                    description += '   è¯´æ˜ï¼šé¢„å­˜æ¬¾ä½™é¢ä¸è¶³ä¸€ä¸ªæœˆçš„å›ºå®šè´¹ç”¨\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ éœ€è¦å……å€¼è¶³å¤Ÿçš„é¢„å­˜æ¬¾\n';
                    description += '   â€¢ ç¡®è®¤è´¦æˆ·çš„è®¡è´¹ç­–ç•¥å’Œå›ºå®šè´¹ç”¨';
                    break;
                case '-12':
                    description = 'âŒ å……å€¼å·ç æ— æ•ˆ\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥å……å€¼å·ç æ ¼å¼æ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ ç¡®è®¤å……å€¼å·ç æ˜¯å¦å­˜åœ¨';
                    break;
                case '-14':
                    description = 'âŒ è®¡è´¹ç­–ç•¥ç»„idæ— æ•ˆ\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ æ£€æŸ¥TollGroupIDå‚æ•°æ˜¯å¦æ­£ç¡®\n';
                    description += '   â€¢ ç¡®è®¤è®¡è´¹ç­–ç•¥ç»„æ˜¯å¦å­˜åœ¨';
                    break;
                case '-15':
                    description = 'âŒ å­˜åœ¨å¤šæ¡ç”¨æˆ·ä¿¡æ¯\n';
                    description += '   è¯´æ˜ï¼šç³»ç»Ÿä¸­å­˜åœ¨å¤šæ¡ç›¸åŒçš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ•°æ®å¼‚å¸¸\n';
                    description += '   å»ºè®®ï¼š\n';
                    description += '   â€¢ è”ç³»ç®¡ç†å‘˜æ£€æŸ¥æ•°æ®åº“\n';
                    description += '   â€¢ æ¸…ç†é‡å¤çš„ç”¨æˆ·æ•°æ®';
                    break;
                default:
                    description = `è¿”å›ç  ${codeStr} çš„è¯¦ç»†è¯´æ˜è¯·å‚è€ƒAPIæ–‡æ¡£`;
            }
            
            return description;
        }

        // è·å–è¿”å›ç è¯´æ˜
        function getReturnCodeDescription(code) {
            const descriptions = {
                '0': 'æ“ä½œæˆåŠŸ',
                '1': 'ç”¨æˆ·ä¸åœ¨çº¿',
                '3': 'ç”¨æˆ·åœ¨çº¿',
                '-1': 'æ•°æ®åº“è¿æ¥å¤±è´¥',
                '-2': 'è´¦æˆ·ä¸å­˜åœ¨æˆ–æ— æ•ˆ',
                '-3': 'ä¸æ˜¯æœŸé™ç”¨æˆ·(è´¦æˆ·å·²æŠ¥å¤±æˆ–ç¦ç”¨çŠ¶æ€)',
                '-4': 'å­ç³»ç»Ÿç¼–ç é”™è¯¯',
                '-5': 'é‡‘é¢å‚æ•°è¶…å‡ºäº†æ•°å­—è¡¨ç¤ºèŒƒå›´ï¼ˆæœ€å¤§æœ‰æ•ˆæ•°å€¼60000ï¼‰',
                '-6': 'è´¦æˆ·å·²ç»å­˜åœ¨',
                '-7': 'è´¦æˆ·å·²ç»åœ¨çº¿',
                '-8': 'è´¦æˆ·æœªå¼€é€š',
                '-9': 'æœªçŸ¥é”™è¯¯',
                '-10': 'æœ‰æ¬ è´¹è´¦å•',
                '-11': 'æœŸé™ç”¨æˆ·ï¼Œé¢„å­˜æ¬¾ä½™é¢ä¸è¶³ä¸€ä¸ªæœˆçš„å›ºå®šè´¹ç”¨',
                '-12': 'å……å€¼å·ç æ— æ•ˆ',
                '-13': 'è´¦æˆ·æˆ–å¯†ç ä¸èƒ½ä¸ºç©º',
                '-14': 'è®¡è´¹ç­–ç•¥ç»„idæ— æ•ˆ',
                '-15': 'å­˜åœ¨å¤šæ¡ç”¨æˆ·ä¿¡æ¯',
                '-16': 'å‚æ•°ä¸åˆæ³•',
                '-17': 'å¼ºåˆ¶ä¸‹çº¿å¤±è´¥',
                '-18': 'å¯†ç é”™è¯¯'
            };
            return descriptions[String(code)] || null;
        }

        // XMLè½¬ä¹‰
        function escapeXml(text) {
            return String(text)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&apos;');
        }

        // æ ¼å¼åŒ–XML
        function formatXml(xml) {
            let formatted = '';
            let indent = '';
            const tab = '  ';
            xml.split(/>\s*</).forEach(node => {
                if (node.match(/^\/\w/)) indent = indent.substring(tab.length);
                formatted += indent + '<' + node + '>\r\n';
                if (node.match(/^<?\w[^>]*[^\/]$/) && !node.startsWith('<?xml')) indent += tab;
            });
            return formatted.substring(1, formatted.length - 3);
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initApiList();
            updateServiceUrl(); // åˆå§‹åŒ–æ—¶æ›´æ–°ä¸€æ¬¡URL
        });
    </script>
</body>
</html>